<div class='is-flex justify-content-end'>
  <div class='button is-primary'><a href='/admin/blog/form'>Create</a></div>
</div>
<table class='table'>
  <thead>
    <tr>
      <th scope='col'>#</th>
      {{#each columns}}
        <th scope='col'>{{this.title}}</th>
      {{/each}}
      <th scope='col'></th>
    </tr>
  </thead>
  <tbody>
    {{#each data}}
      <tr class='row-{{this._id}}'>
        <td scope='row'>{{math @index '+' 1}}</td>
        <td>{{this.title}}</td>
        <td>{{this.description}}</td>
        <td><img
            src='{{this.imageUrl}}'
            class='img-thumbnail'
            alt='{{this.title}}'
            style='width: 64px; height: 64px;'
          /></td>
        <td>
          <div class='is-flex flex-wrap space-x-2'>
            {{#each this.tags}}
              <span style='font-size: 14px;' class='tag is-link'>{{this}}</span>
            {{/each}}
          </div>
        </td>
        <td>
          <div class='is-flex space-x-1'>
            {{#if this.active}}
              Active
            {{else}}
              Inactive
            {{/if}}
            <form
              class='ml-1'
              action='/admin/blog/change-active/{{this._id}}'
              method='post'
            >
              <button type='submit' class='button'>
                <span class='icon is-small'>
                  <i class='bx bx-rotate-right'></i>
                </span>
              </button>
            </form>
          </div>
        </td>
        <td>
          <div class='is-flex space-x-2'>
            <button type='button' class='button'>
              <span class='icon is-small'>
                <a href='/admin/blog/form?edit=true&blogId={{this._id}}'>
                  <i class='bx bx-edit-alt'></i>
                </a>
              </span>
            </button>
            <form action='/admin/blog-delete' method='POST'>
              <input value='{{this._id}}' name='blogId' type='hidden' />
              <button
                type='button'
                class='button'
                data-bs-toggle='modal'
                data-bs-target='#deleteBlogModal'
              >
                <span class='icon is-small'>
                  <i class='bx bx-trash'></i>
                </span>
              </button>
              <div
                class='modal fade'
                id='deleteBlogModal'
                tabindex='-1'
                aria-labelledby='exampleModalLabel'
                aria-hidden='true'
              >
                <div class='modal-dialog modal-dialog-centered'>
                  <div class='modal-content'>
                    <div class='modal-header'>
                      <h1 class='modal-title fs-5' id='exampleModalLabel'>Delete
                        blog</h1>
                      <button
                        type='button'
                        class='button-close'
                        data-bs-dismiss='modal'
                        aria-label='Close'
                      ></button>
                    </div>
                    <div class='modal-body'>
                      Do you want to delete blog
                      {{this._id}}
                    </div>
                    <div class='modal-footer'>
                      <button
                        type='button'
                        class='button button-secondary'
                        data-bs-dismiss='modal'
                      >Close</button>
                      <button
                        type='submit'
                        class='button button-primary'
                      >Confirm</button>
                    </div>
                  </div>
                </div>
              </div>
            </form>
            <button type='button' class='button'>
              <span class='icon is-small'>
                <a href='/admin/blog/editor/{{this._id}}'>
                  <i class='bx bxs-edit'></i>
                </a>
              </span>
            </button>
          </div>
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>